<script>
        // --- SYSTEM UNLOCK ---
        function unlockSystem() {
            var pass = document.getElementById("passInput").value;
            if(pass === "12345") {
                var login = document.getElementById("login-screen");
                login.style.opacity = "0";
                login.style.pointerEvents = "none";
                
                var main = document.getElementById("main-interface");
                main.style.opacity = "1";
                main.style.transform = "scale(1)";
            } else {
                alert("ACCESS DENIED"); 
            }
        }
        
        document.getElementById("passInput").addEventListener("keypress", function(e) {
            if (e.key === "Enter") unlockSystem();
        });

        // --- TAB SWITCHING ---
        function switchTab(tabName) {
            document.getElementById("tab-btn-comms").classList.remove("active");
            document.getElementById("tab-btn-media").classList.remove("active");
            document.getElementById("view-comms").classList.remove("active");
            document.getElementById("view-media").classList.remove("active");

            document.getElementById("tab-btn-" + tabName).classList.add("active");
            document.getElementById("view-" + tabName).classList.add("active");
        }

        // --- YOUTUBE DEBUGGER ---
        var player;
        function onYouTubeIframeAPIReady() {
            console.log("YouTube API Ready");
            player = new YT.Player('player', {
                height: '100%',
                width: '100%',
                playerVars: {
                    listType: 'playlist',
                    // YOUR PLAYLIST ID
                    list: 'PLjfvigiRyKiQssXQlwq1Miytkk6wJV3aX', 
                    autoplay: 0,
                    loop: 1,
                    modestbranding: 1,
                    rel: 0,
                    origin: window.location.origin // Security Fix
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange,
                    'onError': onPlayerError
                }
            });
        }

        function onPlayerReady(event) {
            document.getElementById("track-title").innerText = "System Online. Click Play.";
            document.getElementById("track-title").style.color = "#00ff00"; // Green for success
        }

        function onPlayerStateChange(event) {
            if (event.data === YT.PlayerState.PLAYING) {
                var data = player.getVideoData();
                document.getElementById("track-title").innerText = "Playing: " + data.title;
                document.getElementById("track-title").style.color = "#fff";
            } else if (event.data === YT.PlayerState.PAUSED) {
                document.getElementById("track-title").innerText = "Paused";
            }
        }

        // --- ERROR DETECTOR ---
        function onPlayerError(event) {
            var errorMsg = "Unknown Error";
            var color = "#ed4245"; // Red

            if(event.data === 150 || event.data === 101) {
                errorMsg = "ERROR: Song Blocked by Owner (Copyright)";
            } else if (event.data === 2) {
                errorMsg = "ERROR: Playlist ID Invalid";
            } else if (event.data === 5) {
                errorMsg = "ERROR: HTML5 Player Error";
            } else if (event.data === 100) {
                errorMsg = "ERROR: Video Not Found (or Private)";
            }

            console.log("YouTube Error Code: " + event.data);
            document.getElementById("track-title").innerText = errorMsg;
            document.getElementById("track-title").style.color = color;
        }

        function togglePlay() {
            if(!player) return;
            var state = player.getPlayerState();
            if (state === 1) player.pauseVideo();
            else player.playVideo();
        }
        function nextTrack() { if(player) player.nextVideo(); }
        function prevTrack() { if(player) player.previousVideo(); }

    </script>
